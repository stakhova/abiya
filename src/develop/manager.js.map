{"version":3,"sources":["develop/manager.js"],"names":["modalManager","$","openManagerPopup","btn","modal","click","button","modalId","attr","appendManager","show","getPositionDate","css","closest","hide","resetModal","document","keydown","e","keyCode","stopPropagation","console","log","target","length","spline","ctxList","querySelectorAll","forEach","ctx","chartData","JSON","parse","getAttribute","data","labels","datasets","label","backgroundColor","hoverOffset","Chart","type","options","responsive","plugins","legend","display","canvas","getElementById","getContext","myChart","map","dataset","borderWidth","fill","position","scales","y","beginAtZero","ticks","stepSize","min","x","chartDiv","split","canvasId","bgColors","Number","borderColor","color","replace","moreLocation","on","find","title","desc","icon","numberCell","index","numberColumn","titleCell","text","topTitle","html","fillCalendar","wrap","parseDate","input","parts","day","parseInt","month","year","Date","dateFrom","val","dateTo","remove","append","dateFromObj","dateToObj","duration","removeClass","Math","floor","obj","action","ajax","url","method","success","res","error","complete","addClass","moreItems","submitFormDataProject","removeItem","item","item_id","hasClass","next","calendar","datepicker","dateFormat","lineWidth","width","itemLength","gap","each","content","contentHeight","height","removeDate","date","date_id","chartTransfer","window","innerWidth","clarifyItems","chartItems","after","eq","ready","locationForm","validateForm","ajaxSend","minutesForm","contractForm","form__input","formTerms","contactForm","dateForm","select2","load","resize","scroll"],"mappings":"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","file":"manager.js","sourcesContent":["let modalManager = $('.modal__managers')\n\nfunction openManagerPopup(btn, modal) {\n    btn.click(function () {\n        button = $(this)\n        let modalId = button.attr('data-cell');\n        modal = $(`.modal[data-modal=\"${modalId}\"]`);\n        modalManager = modal\n        appendManager()\n        modal.show();\n        getPositionDate()\n        $('body').css('overflow', 'hidden');\n        return false;\n    });\n    $('.modal__close').click(function () {\n        $(this).closest(modal).hide();\n        $('body').css('overflow', 'visible');\n        resetModal()\n        return false;\n    });\n    $('.modal__btn-close').click(function () {\n        $(this).closest(modal).hide();\n        $('body').css('overflow', 'visible');\n        resetModal()\n        return false;\n    });\n    $(document).keydown(function (e) {\n        if (e.keyCode === 27) {\n            e.stopPropagation();\n            resetModal()\n            $('body').css('overflow', 'visible');\n        }\n    });\n    modal.click(function (e) {\n        console.log(32323232)\n        if ($(e.target).closest('.modal__content').length == 0) {\n            $(this).hide();\n            resetModal()\n            $('body').css('overflow', 'visible');\n        }\n    });\n}\n\n\n\nfunction spline() {\n    const ctxList = document.querySelectorAll('.chart');\n\n    ctxList.forEach((ctx) => {\n        // Get chart data from the data-chart attribute and parse it\n        const chartData = JSON.parse(ctx.getAttribute('data-chart'));\n\n        // Construct the dataset for the Chart.js instance\n        const data = {\n            labels: ['Project Value', 'Material Cost', 'Labour Cost', 'Misc. Cost'],\n            datasets: [{\n                label: 'My Dataset',\n                data: chartData.data,\n                backgroundColor: [\n                    '#564073',\n                    '#C4BCCE',\n                    '#EDE8E0',\n                    '#B3A384'\n                ],\n                hoverOffset: 4\n            }]\n        };\n\n        // Initialize the chart\n        new Chart(ctx, {\n            type: 'pie',\n            data: data,\n            options: {\n                responsive: true,\n                plugins: {\n                    legend: {\n                        display: false,\n                        // position: 'right',\n                    },\n                },\n            }\n        });\n\n    });\n    const canvas = document.getElementById('chart__line')\n\n    const labels = JSON.parse(canvas.getAttribute('data-labels'));\n    const datasets = JSON.parse(canvas.getAttribute('data-datasets'));\n\n    const ctx = canvas.getContext('2d');\n    const myChart = new Chart(ctx, {\n        type: 'line',\n        data: {\n            labels: labels,\n            datasets: datasets.map(dataset => ({\n                label: dataset.label,\n                data: dataset.data,\n                backgroundColor: dataset.backgroundColor,\n                borderWidth: 2,\n                fill: false\n            }))\n        },\n        options: {\n            responsive: true,\n            plugins: {\n                legend: {\n                    display: true,\n                    position: 'bottom',\n                },\n            },\n            scales: {\n                y: {\n                    beginAtZero: true,\n                    ticks: {\n                        stepSize: 10,\n                        min: 0\n                    }\n                },\n                x: {\n                    ticks: {\n                        stepSize: 1,\n                    }\n                }\n            }\n        }\n    });\n\n\n    // Bar Chart\n    document.querySelectorAll('.chart__bar').forEach(function(chartDiv) {\n        // Extract data from data-attr and labels\n        let data = chartDiv.getAttribute('data-attr').split(',');\n        let labels = chartDiv.getAttribute('data-labels').split(',');\n        let canvasId = chartDiv.getAttribute('data-canvas-id');\n        var bgColors = chartDiv.getAttribute('data-bg-colors').split(',');\n        // Get the corresponding canvas\n        let ctx = document.getElementById(canvasId).getContext('2d');\n\n        // Create a bar chart using Chart.js\n        new Chart(ctx, {\n            type: 'bar',\n            data: {\n                labels: labels,\n                datasets: [{\n                    label: 'Dataset for ' + canvasId,\n                    data: data.map(Number),\n                    backgroundColor: bgColors,\n                    borderColor: bgColors.map(color => color.replace('0.2', '1')),\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                scales: {\n                    y: {\n                        beginAtZero: true\n                    }\n                },\n                plugins: {\n                    legend: {\n                        display: true,\n                        position: 'bottom',\n                    },\n                },\n            }\n        });\n    });\n}\n\nfunction moreLocation(){\n    $(document).on('click','.location__more', function (){\n        let modal = $(this).closest('.modal')\n        modal.find('.location__more-block').show();\n        $(this).hide()\n    })\n}\n\n\n\n\n\nfunction appendManager(){\n    let title = button.attr('data-title')\n    let desc = button.attr('data-desc')\n    let icon = button.find('.project__task-img img').attr('src')\n    let numberCell = button.closest('tr').index() + 1\n    let numberColumn = button.closest('td').index()\n    let titleCell = button.find('.project__task-title').text()\n    let topTitle = button.closest('tr').find('.project__task-step h3').text()\n\n\n    modalManager.find('.project__modal-desc h3').text(title)\n    modalManager.find('.project__modal-desc p').text(desc)\n    modalManager.find('.project__top-icon img').attr('src',icon)\n    modalManager.find('.project__modal-title').html(`${topTitle}<br> ${numberCell}.${numberColumn} ${titleCell}`)\n}\n\n\nfunction fillCalendar(){\n    $(document).on('change', '.calendar__wrap input', function (){\n        let wrap = $(this).closest('.modal__calendar')\n        function parseDate(input) {\n            const parts = input.split('/');\n            const day = parseInt(parts[0], 10);\n            const month = parseInt(parts[1], 10) - 1; // Months are zero-based in JavaScript Date object\n            const year = parseInt(parts[2], 10);\n            return new Date(year, month, day);\n        }\n        const dateFrom = $('#date_from').val();\n        const dateTo = $('#date_to').val();\n\n\n        $('.error').remove();\n        if (!dateFrom || !dateTo) {\n            $('.calendar__wrap').append('<label class=\"error\" >Please fill in both dates.</label>');\n        } else {\n            const dateFromObj = parseDate(dateFrom);\n            const dateToObj = parseDate(dateTo);\n\n            let duration\n\n            if (dateToObj < dateFromObj) {\n                $('.calendar__wrap').append('<label class=\"error\" >The project completion date cannot be earlier than the award of contract date.</label>');\n                wrap.removeClass('active')\n            } else{\n                duration = Math.floor((dateToObj - dateFromObj) / (1000 * 60 * 60 * 24));\n\n                let obj ={action:'add_date',dateFrom,dateTo}\n                $.ajax({\n                    url: '/wp-admin/admin-ajax.php',\n                    data: obj,\n                    method: 'POST',\n                    success: function (res) {\n\n                    },\n                    error: function (error) {\n                        console.log('error ajax');\n                    },\n                    complete: function () {}\n                });\n\n                $('.calendar__start span').text(dateFrom)\n                $('.calendar__end span').text(dateTo)\n                wrap.addClass('active')\n                getPositionDate()\n                $('.calendar__wrap-duration span').text(duration)\n            }\n        }\n    })\n}\nfunction moreItems(){\n    let modal\n    $(document).on('click','.modal__managers-more', function (){\n        // $(this).closest('.modal[data-modal=\"1_1\"]').find('.project__table-manager > table tbody').append(`<tr class=\"new\">\n        //                                 <td>\n        //                                     <input type=\"text\">\n        //                                 </td>\n        //                                 <td>\n        //                                    <input type=\"text\">\n        //                                 </td>\n        //                             </tr>`)\n        modal = $(this).closest('.modal')\n        modal.find('.modal__managers-save').show()\n        $(this).hide()\n        submitFormDataProject('.form__task');\n        submitFormDataProject('.inspections__form');\n    })\n    // $(document).on('click','.modal__managers-save', function (){\n    //     // modal.find('.new:last-of-type input').attr('readonly', true)\n    //     modal = $(this).closest('.modal')\n    //     modal.find('.modal__managers-more').show()\n    //     $(this).hide()\n    // })\n}\n\nfunction removeItem(){\n    $(document).on('click','.delete__item',function (){\n        let action= $(this).closest('.modal').data('action')\n        let item = $(this).closest('[data-item-id]')\n        let item_id = item.data('item-id')\n        let obj = { action, item_id};\n        console.log(111, obj)\n        if(item.hasClass('active')){\n            item.next().addClass('active')\n        }\n        $.ajax({\n            url: '/wp-admin/admin-ajax.php',\n            data: obj,\n            method: 'POST',\n            success: function (res) {\n                item.remove()\n            },\n            error: function (error) {\n                console.log('error ajax');\n                item.remove()\n            },\n        });\n    })\n}\n\nfunction calendar() {\n    $(\".modal__datepicker\").datepicker({\n        dateFormat: 'dd/mm/yy'\n    });\n}\n\n\n\nfunction getPositionDate(){\n    let lineWidth = $('.calendar__illustrate').width()\n    let itemLength = $('.calendar__date .calendar__point').length + 1\n\n    let gap = lineWidth/itemLength\n\n\n    console.log('Line width:', lineWidth)\n    console.log('Number of points:', itemLength)\n    console.log('Number of points:', gap)\n    let position = 0\n\n\n\n    $('.calendar__date .calendar__point').each(function () {\n        position += gap;\n        let content =  $(this).find('.calendar__point-content')\n\n        content.css({\n            'right': `${(gap-16)/2}px`,\n            'max-width': gap + 'px'\n        })\n\n\n\n\n        $(this).css({\n            'position': 'absolute',\n            'left': position + 'px',\n            'max-width': gap + 'px'\n        });\n    });\n    $('.calendar__date .calendar__point:nth-child(odd)').each(function () {\n\n        let content =  $(this).find('.calendar__point-content')\n        let contentHeight =  content.height()\n\n        content.css({\n            'bottom': `${contentHeight + 71}px`,\n        })\n    });\n}\n\nfunction removeDate(){\n    $(document).on('click','.calendar__point-delete', function (){\n        let date = $(this).closest('.calendar__point')\n        let date_id = date.data('date-id')\n        let obj = { action: 'add_date', date_id};\n        $.ajax({\n            url: '/wp-admin/admin-ajax.php',\n            data: obj,\n            method: 'POST',\n            success: function (res) {\n                $('.calendar__illustrate').html(res)\n                getPositionDate()\n            },\n            error: function (error) {\n                console.log('error ajax');\n                date.remove()\n                getPositionDate()\n            },\n        });\n    })\n}\n\nfunction chartTransfer(){\n    if (window.innerWidth <= 666) {\n        let clarifyItems = $('.chart__wrap .clarify__mob-wrap');\n        let chartItems = $('.chart__item');\n        // Переміщаємо кожен блок .chart__item після відповідного .clarify__mob-wrap\n\n        clarifyItems.each(function(index) {\n            $(this).after(chartItems.eq(index));\n        });\n    }\n}\n\n\n$(document).ready(function(){\n    removeDate()\n    openManagerPopup($('.manager'), modalManager );\n    moreItems()\n    moreLocation()\n    removeItem()\n    calendar()\n    fillCalendar()\n\n\n\n    let locationForm = $('.location__form');\n    validateForm(locationForm, function () {\n        ajaxSend(locationForm, function () {\n            $('.location__more-block').hide();\n            $('.location__more').show();\n        }, function (error){\n            // $('.location__more-block').hide();\n            // $('.location__more').show();\n        });\n    });\n\n    let minutesForm = $('.minutes__form');\n    validateForm(locationForm, function () {\n        ajaxSend(locationForm, function () {\n            $('.location__more-block').hide();\n            $('.location__more').show();\n        }, function (error){\n            // $('.location__more-block').hide();\n            // $('.location__more').show();\n        });\n    });\n\n\n    let contractForm = $('.contract__form');\n    validateForm(contractForm, function () {\n        let form__input = $('.contract__form .form__input input').val()\n        ajaxSend(contractForm, function () {\n            $('.location__more-block').hide();\n            $('.location__more').show();\n\n        }, function (error){\n\n            $('.contract__form .form__input label:first-of-type').text(`Amount Of the contract: ${form__input}`)\n            // $('.location__more-block').hide();\n            // $('.location__more').show();\n        });\n    });\n\n\n\n    let formTerms = $('.form__terms');\n    validateForm(formTerms, function () {\n        ajaxSend(formTerms, function () {\n            $('.location__more-block').hide();\n            $('.location__more').show();\n        }, function (error){\n            // $('.location__more-block').hide();\n            // $('.location__more').show();\n        });\n    });\n\n\n    let contactForm = $('.contact__form');\n    validateForm(contactForm, function () {\n        ajaxSend(contactForm, function () {\n            $('.location__more-block').hide();\n            $('.location__more').show();\n        }, function (error){\n            // $('.location__more-block').hide();\n            // $('.location__more').show();\n        });\n    });\n\n    // let nominationLetter = $('.nomination-letter__form');\n    // validateForm(nominationLetter, function () {\n    //     ajaxSend(nominationLetter, function () {\n    //         $('.location__more-block').hide();\n    //         $('.location__more').show();\n    //     }, function (error){\n    //         // $('.location__more-block').hide();\n    //         // $('.location__more').show();\n    //     });\n    // });\n\n\n\n    let dateForm = $('.calendar__form');\n    validateForm(dateForm, function () {\n        // let date_add = $('#date_add').val()\n        // let note_add = $('#note__add').val()\n        ajaxSend(dateForm, function () {\n            $('.calendar__illustrate').html(res)\n            getPositionDate()\n        }, function (error){\n            $('.calendar__illustrate').html(res)\n            // $('.calendar__date').append(` <div class=\"calendar__point\">\n            //                             <div class=\"calendar__point-content\">\n            //                                 <span class=\"calendar__point-date\">${date_add}<button class=\"calendar__point-delete\"></button></span>\n            //                                 <span class=\"calendar__point-desc\">${note_add}</span>\n            //                             </div>\n            //                         </div>`)\n            getPositionDate()\n        });\n    });\n\n    $('.select').select2({})\n    chartTransfer()\n    spline()\n    submitFormDataProject('.inspections__form');\n    submitFormDataProject('.nomination-letter__form');\n    submitFormDataProject('.completion_certificate__form');\n    submitFormDataProject('.misc_letters__form');\n    submitFormDataProject('.legal__form');\n    // submitFormDataProject('.inspections__form');\n\n});\n\n$(window).load(function(){\n\n});\n\n$(window).resize(function(){\n\n});\n$(window).scroll(function () {\n});"]}